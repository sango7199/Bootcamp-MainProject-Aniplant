<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml"
xmlns:th="http://www.thymeleaf.org"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
layout:decorate="~{layout/defaultLayout}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>게시판</title>
</head>
<!-- 해당 페이지 고유 CSS 추가 -->
<th:block layout:fragment="css">
  <style>
		.container {
            display: flex;
            flex-direction: row; 
            align-items: start;
        }
         .pagination {
  			display: flex;
  			align-items: center;
  			justify-content: center;
 			 margin-top: 20px;
		}

		.page-number,#prev,#next {
  			margin: 0 5px;
  			padding: 5px 10px;
 			 border: 1px solid #ccc;
  			cursor: pointer;
		}

		.page-number.active {
  			background-color: #ccc;
		}
        
	</style>
</th:block>
<!-- 해당 페이지 고유 스크립트 추가 -->
<th:block layout:fragment="script"> 
    <!--    <script th:src="@{/js/page/home.js}"></script>-->
</th:block>

<body>
  <!-- Content -->
<div layout:fragment="content" class="container">
  <!-- sidebar fragment 사용 -->
  <div th:replace="sidebar/article :: articleSidebar"></div>
  

  <div class="content">
    <h1>동물 게시판</h1>
      <table >
         <tr>
            <th><b>번호</b></th>
            <th><b>제목</b></th>
            <th><b>작성자</b></th>
            <th><b>조회수</b></th>
            <th><b>추천</b></th>
            <th><b>비추천</b></th>
            <th><b>작성일</b></th>
         </tr>

      <tr align="center" th:each="board : ${articlesList}">
        <td th:text="${board.post_num}"></td>
        <td th:text="${board.title}"></td>
        <td th:text="${board.created_user_num}"></td>
        <td th:text="${board.views}"></td>
        <td th:text="${board.good}"></td>
        <td th:text="${board.bad}"></td>
        <td th:text="${board.created_at}"></td>
    </tr>
      </table>

    <div class="pagination">
      <button id="prev">◀</button>
      <div class="page-numbers">
        <button class="page-number" th:each="pageNumber : ${pageNumbers}" th:text="${pageNumber}"></button>
        <!-- Add more page number buttons as needed -->
      </div>
      <button id="next">▶</button>
    </div>
    
   </div>
</div>
<!-- 동물 끝 -->

</div>

</div>


<script th:inline="javascript">

  //버튼 이동
  const prevButton = document.getElementById('prev');
  const nextButton = document.getElementById('next');
  const pageNumbers = document.querySelectorAll('.page-number');

  let currentPage = 1;

  function updatePageButtons() {
      pageNumbers.forEach(button => button.classList.remove('active'));
      pageNumbers[currentPage - 1].classList.add('active');
  }

  prevButton.addEventListener('click', () => {
      if (currentPage > 1) {
          currentPage--;
          updatePageButtons();
      }
  });

  nextButton.addEventListener('click', () => {
      if (currentPage < pageNumbers.length) {
          currentPage++;
          updatePageButtons();
      }
  });

  pageNumbers.forEach((button, index) => {
      button.addEventListener('click', () => {
          currentPage = index + 1;
          updatePageButtons();
      });
  });

  updatePageButtons();

// 왼쪽 사이드바의 링크를 클릭하면 해당 페이지 내용을 content 영역에 로드.


</script>
</body>
</html>